# ç¥ã®æ‰‹ã˜ã‚ƒã‚“ã‘ã‚“ - ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒª

ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã®ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆFlutter - iOS/Androidå¯¾å¿œï¼‰

## ğŸ¯ æ¦‚è¦

å¤§è¦æ¨¡ï¼ˆæœ€å¤§1ä¸‡äººï¼‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾å¿œã™ã‚‹ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã§ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½
- ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ å¯¾æˆ¦
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
- ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒãƒƒãƒ
- æˆ¦æ­´ãƒ»çµ±è¨ˆè¡¨ç¤º

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Flutter** - ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–‹ç™º
- **Flame Engine** - ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³
- **HTTP** - APIé€šä¿¡
- **SharedPreferences** - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **AudioPlayers** - éŸ³éŸ¿åŠ¹æœ

## ğŸ“± å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

- iOS
- Android
- Webï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ç”»é¢å˜ä½APIåˆ†é›¢åŸå‰‡

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **ç”»é¢å˜ä½ã§ã®APIåˆ†é›¢åŸå‰‡** ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ï¼š

#### ğŸ¯ **åŸºæœ¬æ–¹é‡**
1. **ç”»é¢å°‚ç”¨API**: å„ç”»é¢ï¼ˆèªè¨¼ã€ãƒ­ãƒ“ãƒ¼ã€è¨­å®šã€ãƒãƒˆãƒ«ç­‰ï¼‰ã«ã¯å°‚ç”¨ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç”¨æ„
2. **æ©Ÿèƒ½æ¨ªæ–­ã®ç¦æ­¢**: ã‚ã‚‹APIã®ä¿®æ­£ãŒä»–ç”»é¢ã«å½±éŸ¿ã™ã‚‹ã“ã¨ã‚’é˜²ããŸã‚ã€APIã®æ©Ÿèƒ½æ¨ªæ–­çš„ãªä½¿ç”¨ã¯ç¦æ­¢
3. **ä»£æ›¿æ¡ˆã®å›é¿**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæ—¢å­˜APIã®çµ„ã¿åˆã‚ã›ã§ä»£æ›¿å®Ÿè£…ã™ã‚‹ã“ã¨ã¯é¿ã‘ã€å¿…è¦ãªæ©Ÿèƒ½ã¯å°‚ç”¨APIã¨ã—ã¦å®Ÿè£…
4. **ç‹¬ç«‹æ€§ã®ä¿è¨¼**: å„ç”»é¢ã®APIã¯ç‹¬ç«‹ã—ã¦å‹•ä½œã—ã€ä»–ç”»é¢ã®APIã«ä¾å­˜ã—ãªã„è¨­è¨ˆ

#### ğŸ—ï¸ **å®Ÿè£…è²¬ä»»**
- **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰**: ç”»é¢ã”ã¨ã«å¿…è¦ãªå°‚ç”¨APIã‚’å®Ÿè£…ã™ã‚‹è²¬ä»»
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰**: ç”»é¢ã«å¯¾å¿œã™ã‚‹å°‚ç”¨APIã®ã¿ã‚’ä½¿ç”¨ã™ã‚‹è²¬ä»»

## ğŸ“‹ Flutterã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«

### åŸºæœ¬è¨­è¨ˆæ€æƒ³

#### **1. ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå˜ä½ã®è²¬ä»»åˆ†é›¢**
- **ç”»é¢å˜ä½**: å„ç”»é¢ã¯ç‹¬ç«‹ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ç®¡ç†
- **æ©Ÿèƒ½å˜ä½**: å†åˆ©ç”¨å¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯`widgets/`é…ä¸‹ã«é…ç½®
- **çŠ¶æ…‹ç®¡ç†**: å„ç”»é¢ã®çŠ¶æ…‹ã¯ç”»é¢å†…ã§å®Œçµã€å¿…è¦ã«å¿œã˜ã¦Provider/Blocä½¿ç”¨

#### **2. AIé€£æºã®ãŸã‚ã®ä¸€è²«æ€§**
- **å‘½åè¦å‰‡**: çµ±ä¸€ã•ã‚ŒãŸå‘½åãƒ‘ã‚¿ãƒ¼ãƒ³ã§AIã®ç†è§£ã‚’ä¿ƒé€²
- **ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **: äºˆæ¸¬å¯èƒ½ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
- **ã‚³ãƒ¡ãƒ³ãƒˆ**: æ—¥æœ¬èªã§ã®æ„å›³èª¬æ˜ã§AIã®ç†è§£ã‚’ã‚µãƒãƒ¼ãƒˆ

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒ«ãƒ¼ãƒ«

```
lib/
â”œâ”€â”€ pages/                    # ç”»é¢å˜ä½ã®ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ auth/                # èªè¨¼é–¢é€£ç”»é¢
â”‚   â”‚   â”œâ”€â”€ login_page.dart
â”‚   â”‚   â”œâ”€â”€ register_page.dart
â”‚   â”‚   â””â”€â”€ forgot_password_page.dart
â”‚   â”œâ”€â”€ lobby/               # ãƒ­ãƒ“ãƒ¼ç”»é¢
â”‚   â”‚   â””â”€â”€ lobby_page.dart
â”‚   â”œâ”€â”€ battle/              # ãƒãƒˆãƒ«ç”»é¢
â”‚   â”‚   â”œâ”€â”€ battle_page.dart
â”‚   â”‚   â””â”€â”€ battle_result_page.dart
â”‚   â””â”€â”€ settings/            # è¨­å®šç”»é¢
â”‚       â””â”€â”€ settings_page.dart
â”œâ”€â”€ widgets/                  # å†åˆ©ç”¨å¯èƒ½ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â”œâ”€â”€ common/              # å…±é€šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ custom_button.dart
â”‚   â”‚   â”œâ”€â”€ custom_text_field.dart
â”‚   â”‚   â””â”€â”€ loading_indicator.dart
â”‚   â”œâ”€â”€ auth/                # èªè¨¼å°‚ç”¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â”œâ”€â”€ battle/              # ãƒãƒˆãƒ«å°‚ç”¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â””â”€â”€ lobby/               # ãƒ­ãƒ“ãƒ¼å°‚ç”¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”œâ”€â”€ services/                 # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”‚   â”œâ”€â”€ api_service.dart
â”‚   â”œâ”€â”€ auth_service.dart
â”‚   â””â”€â”€ websocket_service.dart
â”œâ”€â”€ models/                   # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ user.dart
â”‚   â”œâ”€â”€ battle.dart
â”‚   â””â”€â”€ game_state.dart
â”œâ”€â”€ providers/                # çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ auth_provider.dart
â”‚   â””â”€â”€ game_provider.dart
â””â”€â”€ utils/                    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    â”œâ”€â”€ constants.dart
    â”œâ”€â”€ helpers.dart
    â””â”€â”€ validators.dart
```

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

#### **1. ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡**
```dart
// âœ… GOOD: æ˜ç¢ºã§ä¸€è²«æ€§ã®ã‚ã‚‹å‘½å
login_page.dart          // ç”»é¢ãƒšãƒ¼ã‚¸
custom_button.dart       // å†åˆ©ç”¨å¯èƒ½ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
auth_service.dart        // ã‚µãƒ¼ãƒ“ã‚¹
user_model.dart          // ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

// âŒ BAD: æ›–æ˜§ã§ä¸€è²«æ€§ã®ãªã„å‘½å
page.dart               // ä½•ã®ãƒšãƒ¼ã‚¸ã‹ä¸æ˜
button.dart             // ã©ã®ãƒœã‚¿ãƒ³ã‹ä¸æ˜
service.dart            // ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ä¸æ˜
```

#### **2. ã‚¯ãƒ©ã‚¹å‘½åè¦å‰‡**
```dart
// âœ… GOOD: ç›®çš„ãŒæ˜ç¢º
class LoginPage extends StatefulWidget
class CustomButton extends StatelessWidget
class AuthService
class UserModel

// âŒ BAD: æ›–æ˜§
class Page extends StatefulWidget
class Button extends StatelessWidget
class Service
class Model
```

#### **3. å¤‰æ•°ãƒ»é–¢æ•°å‘½åè¦å‰‡**
```dart
// âœ… GOOD: æ—¥æœ¬èªçš„ãªç†è§£ã‚’ä¿ƒé€²
bool _isLoading = false;
bool _isAuthenticated = false;
String _userName = '';
int _battleCount = 0;

void _handleLogin() {}
void _startBattle() {}
void _updateUserProfile() {}

// âŒ BAD: è‹±èªçš„ã™ãã¦æ„å›³ãŒä¸æ˜
bool _loading = false;
bool _auth = false;
String _name = '';
int _count = 0;

void _login() {}
void _battle() {}
void _update() {}
```

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¨­è¨ˆãƒ«ãƒ¼ãƒ«

#### **1. å˜ä¸€è²¬ä»»ã®åŸå‰‡**
```dart
// âœ… GOOD: 1ã¤ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«1ã¤ã®è²¬ä»»
class UserProfileWidget extends StatelessWidget {
  final User user;
  
  const UserProfileWidget({super.key, required this.user});
  
  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        _buildProfileImage(),
        _buildUserInfo(),
        _buildStats(),
      ],
    );
  }
  
  Widget _buildProfileImage() { /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã®ã¿ */ }
  Widget _buildUserInfo() { /* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ã¿ */ }
  Widget _buildStats() { /* çµ±è¨ˆæƒ…å ±ã®ã¿ */ }
}

// âŒ BAD: è¤‡æ•°ã®è²¬ä»»ã‚’æŒã¤ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
class UserWidget extends StatelessWidget {
  // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã€çµ±è¨ˆã€è¨­å®šã€å‹é”ãƒªã‚¹ãƒˆãªã©å…¨ã¦ã‚’å«ã‚€
}
```

#### **2. å†åˆ©ç”¨æ€§ã®è€ƒæ…®**
```dart
// âœ… GOOD: æ±ç”¨çš„ã§å†åˆ©ç”¨å¯èƒ½
class CustomButton extends StatelessWidget {
  final String text;
  final VoidCallback? onPressed;
  final Color? backgroundColor;
  final double? width;
  final double? height;
  
  const CustomButton({
    super.key,
    required this.text,
    this.onPressed,
    this.backgroundColor,
    this.width,
    this.height,
  });
  
  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: width,
      height: height,
      child: ElevatedButton(
        onPressed: onPressed,
        style: ElevatedButton.styleFrom(
          backgroundColor: backgroundColor,
        ),
        child: Text(text),
      ),
    );
  }
}

// âŒ BAD: ç‰¹å®šã®ç”¨é€”ã«å›ºå®š
class LoginButton extends StatelessWidget {
  // ãƒ­ã‚°ã‚¤ãƒ³å°‚ç”¨ã§ä»–ã®å ´æ‰€ã§ã¯ä½¿ãˆãªã„
}
```

### çŠ¶æ…‹ç®¡ç†ãƒ«ãƒ¼ãƒ«

#### **1. ç”»é¢å†…å®Œçµã®åŸå‰‡**
```dart
// âœ… GOOD: ç”»é¢å†…ã§çŠ¶æ…‹ã‚’ç®¡ç†
class BattlePage extends StatefulWidget {
  @override
  State<BattlePage> createState() => _BattlePageState();
}

class _BattlePageState extends State<BattlePage> {
  bool _isPlaying = false;
  String _selectedHand = '';
  int _score = 0;
  
  void _startGame() {
    setState(() {
      _isPlaying = true;
      _score = 0;
    });
  }
}

// âŒ BAD: ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã«éåº¦ã«ä¾å­˜
class BattlePage extends StatelessWidget {
  // å…¨ã¦ã®çŠ¶æ…‹ã‚’Provider/Blocã§ç®¡ç†
}
```

#### **2. å¿…è¦æœ€å°é™ã®çŠ¶æ…‹ç®¡ç†**
```dart
// âœ… GOOD: å¿…è¦ãªæ™‚ã ã‘Providerä½¿ç”¨
class LobbyPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Consumer<AuthProvider>(
      builder: (context, auth, child) {
        if (auth.isLoading) return LoadingWidget();
        if (!auth.isAuthenticated) return LoginWidget();
        return LobbyContent(user: auth.currentUser);
      },
    );
  }
}

// âŒ BAD: å…¨ã¦ã®çŠ¶æ…‹ã‚’Providerã§ç®¡ç†
class LobbyPage extends StatelessWidget {
  // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€è¨­å®šã€çµ±è¨ˆãªã©å…¨ã¦Provider
}
```

## ğŸ”„ éåŒæœŸå‡¦ç†ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### WebSocketæ¥ç¶šç®¡ç†

#### **1. æ¥ç¶šçŠ¶æ…‹ã®ç®¡ç†**
```dart
// âœ… GOOD: æ˜ç¢ºãªæ¥ç¶šçŠ¶æ…‹ç®¡ç†
class WebSocketService {
  WebSocket? _socket;
  bool _isConnected = false;
  StreamController<String>? _messageController;
  
  // æ¥ç¶šçŠ¶æ…‹ã®ç›£è¦–
  Stream<bool> get connectionStatus => _connectionStatusController.stream;
  
  Future<bool> connect(String userId, String room) async {
    try {
      _socket = await WebSocket.connect(_buildUrl(userId, room));
      _isConnected = true;
      _setupMessageHandling();
      _connectionStatusController.add(true);
      return true;
    } catch (e) {
      _isConnected = false;
      _connectionStatusController.add(false);
      return false;
    }
  }
  
  void disconnect() {
    _socket?.close();
    _isConnected = false;
    _connectionStatusController.add(false);
  }
}
```

#### **2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ã®éåŒæœŸåŒ–**
```dart
// âœ… GOOD: éåŒæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†
class WebSocketService {
  void _setupMessageHandling() {
    _socket?.listen(
      (data) {
        _handleMessage(data);
      },
      onError: (error) {
        _handleError(error);
      },
      onDone: () {
        _handleDisconnect();
      },
    );
  }
  
  void _handleMessage(dynamic data) {
    try {
      final message = jsonDecode(data);
      _messageController?.add(message);
    } catch (e) {
      print('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è§£æã‚¨ãƒ©ãƒ¼: $e');
    }
  }
}
```

#### **3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒªãƒˆãƒ©ã‚¤**
```dart
// âœ… GOOD: é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
class WebSocketService {
  Timer? _reconnectTimer;
  int _reconnectAttempts = 0;
  static const int maxReconnectAttempts = 5;
  
  void _handleError(dynamic error) {
    print('WebSocketã‚¨ãƒ©ãƒ¼: $error');
    _isConnected = false;
    _connectionStatusController.add(false);
    
    if (_reconnectAttempts < maxReconnectAttempts) {
      _scheduleReconnect();
    }
  }
  
  void _scheduleReconnect() {
    _reconnectTimer?.cancel();
    final delay = Duration(seconds: pow(2, _reconnectAttempts).toInt());
    _reconnectTimer = Timer(delay, () {
      _reconnectAttempts++;
      connect(_userId, _room);
    });
  }
}
```

### APIé€šä¿¡ã®éåŒæœŸå‡¦ç†

#### **1. é©åˆ‡ãªFuture/async-awaitä½¿ç”¨**
```dart
// âœ… GOOD: æ˜ç¢ºãªéåŒæœŸå‡¦ç†
class ApiService {
  Future<Map<String, dynamic>> getUserProfile(String userId) async {
    try {
      final response = await http.get(
        Uri.parse('$baseUrl/api/users/$userId'),
        headers: await _getAuthHeaders(),
      );
      
      if (response.statusCode == 200) {
        return jsonDecode(response.body);
      } else {
        throw ApiException('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å–å¾—ã«å¤±æ•—: ${response.statusCode}');
      }
    } catch (e) {
      throw ApiException('ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: $e');
    }
  }
}
```

#### **2. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†**
```dart
// âœ… GOOD: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®é©åˆ‡ãªç®¡ç†
class UserProfilePage extends StatefulWidget {
  @override
  State<UserProfilePage> createState() => _UserProfilePageState();
}

class _UserProfilePageState extends State<UserProfilePage> {
  bool _isLoading = false;
  User? _user;
  String? _error;
  
  @override
  void initState() {
    super.initState();
    _loadUserProfile();
  }
  
  Future<void> _loadUserProfile() async {
    setState(() {
      _isLoading = true;
      _error = null;
    });
    
    try {
      final userData = await ApiService().getUserProfile(widget.userId);
      setState(() {
        _user = User.fromJson(userData);
        _isLoading = false;
      });
    } catch (e) {
      setState(() {
        _error = e.toString();
        _isLoading = false;
      });
    }
  }
}
```

### éåŒæœŸå‡¦ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### **1. é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
```dart
// âœ… GOOD: åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
Future<void> _performAction() async {
  try {
    setState(() => _isLoading = true);
    
    // éåŒæœŸå‡¦ç†
    await _apiService.performAction();
    
    // æˆåŠŸæ™‚ã®å‡¦ç†
    _showSuccessMessage();
    
  } catch (e) {
    // ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã«å¿œã˜ãŸå‡¦ç†
    if (e is NetworkException) {
      _showNetworkErrorDialog();
    } else if (e is AuthException) {
      _redirectToLogin();
    } else {
      _showGenericErrorDialog(e.toString());
    }
  } finally {
    setState(() => _isLoading = false);
  }
}
```

#### **2. éåŒæœŸå‡¦ç†ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«**
```dart
// âœ… GOOD: é©åˆ‡ãªã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†
class _MyPageState extends State<MyPage> {
  Future<void>? _currentOperation;
  
  @override
  void dispose() {
    _currentOperation?.ignore();
    super.dispose();
  }
  
  Future<void> _startOperation() async {
    // å‰ã®æ“ä½œã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
    _currentOperation?.ignore();
    
    // æ–°ã—ã„æ“ä½œã‚’é–‹å§‹
    _currentOperation = _performOperation();
    await _currentOperation;
  }
}
```

#### **3. ä¸¦è¡Œå‡¦ç†ã®ç®¡ç†**
```dart
// âœ… GOOD: ä¸¦è¡Œå‡¦ç†ã®é©åˆ‡ãªç®¡ç†
Future<void> _loadInitialData() async {
  setState(() => _isLoading = true);
  
  try {
    // ä¸¦è¡Œã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
    final results = await Future.wait([
      _loadUserProfile(),
      _loadUserStats(),
      _loadRecentBattles(),
    ]);
    
    setState(() {
      _userProfile = results[0];
      _userStats = results[1];
      _recentBattles = results[2];
      _isLoading = false;
    });
    
  } catch (e) {
    setState(() {
      _error = e.toString();
      _isLoading = false;
    });
  }
}
```

### é¿ã‘ã‚‹ã¹ãéåŒæœŸå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³

#### **1. éåŒæœŸå‡¦ç†ã®ç„¡è¦–**
```dart
// âŒ BAD: éåŒæœŸå‡¦ç†ã®çµæœã‚’ç„¡è¦–
void _handleButtonPress() {
  _apiService.performAction(); // Futureã®çµæœã‚’ç„¡è¦–
  _showSuccessMessage(); // å®Ÿéš›ã«ã¯å¤±æ•—ã—ã¦ã„ã‚‹å¯èƒ½æ€§
}

// âœ… GOOD: é©åˆ‡ãªéåŒæœŸå‡¦ç†
Future<void> _handleButtonPress() async {
  try {
    await _apiService.performAction();
    _showSuccessMessage();
  } catch (e) {
    _showErrorMessage(e.toString());
  }
}
```

#### **2. éåº¦ãªãƒã‚¹ãƒˆ**
```dart
// âŒ BAD: éåº¦ã«ãƒã‚¹ãƒˆã—ãŸéåŒæœŸå‡¦ç†
void _loadData() {
  _apiService.getUser().then((user) {
    _apiService.getUserProfile(user.id).then((profile) {
      _apiService.getUserStats(user.id).then((stats) {
        setState(() {
          _user = user;
          _profile = profile;
          _stats = stats;
        });
      });
    });
  });
}

// âœ… GOOD: async-awaitã‚’ä½¿ç”¨ã—ãŸèª­ã¿ã‚„ã™ã„å‡¦ç†
Future<void> _loadData() async {
  try {
    final user = await _apiService.getUser();
    final profile = await _apiService.getUserProfile(user.id);
    final stats = await _apiService.getUserStats(user.id);
    
    setState(() {
      _user = user;
      _profile = profile;
      _stats = stats;
    });
  } catch (e) {
    _handleError(e);
  }
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```dart
// âœ… GOOD: å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ç‹¬ç«‹ãƒ†ã‚¹ãƒˆ
void main() {
  group('CustomButton Widget Tests', () {
    testWidgets('ãƒœã‚¿ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', (tester) async {
      await tester.pumpWidget(
        MaterialApp(
          home: CustomButton(
            text: 'ãƒ†ã‚¹ãƒˆ',
            onPressed: () {},
          ),
        ),
      );
      
      expect(find.text('ãƒ†ã‚¹ãƒˆ'), findsOneWidget);
      expect(find.byType(ElevatedButton), findsOneWidget);
    });
  });
}
```

## ğŸ“š AIé€£æºã®ãŸã‚ã®ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„

### æ—¥æœ¬èªã§ã®æ„å›³èª¬æ˜
```dart
/// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤ºã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
/// 
/// ã“ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ä»¥ä¸‹ã®è¦ç´ ã‚’è¡¨ç¤ºã—ã¾ã™ï¼š
/// - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒï¼ˆå††å½¢ã€100x100ï¼‰
/// - ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆæœ€å¤§20æ–‡å­—ã€çœç•¥è¡¨ç¤ºå¯¾å¿œï¼‰
/// - ç§°å·ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ã‚ªãƒ¬ãƒ³ã‚¸è‰²ï¼‰
/// - çµ±è¨ˆæƒ…å ±ï¼ˆå‹åˆ©æ•°ã€æ•—åŒ—æ•°ã€å¼•åˆ†æ•°ï¼‰
/// 
/// ä½¿ç”¨ä¾‹ï¼š
/// ```dart
/// UserProfileWidget(user: currentUser)
/// ```
class UserProfileWidget extends StatelessWidget {
  // ... å®Ÿè£…
}
```

### è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã®èª¬æ˜
```dart
/// ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹æ•—åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
/// 
/// åˆ¤å®šãƒ«ãƒ¼ãƒ«ï¼š
/// 1. ã‚°ãƒ¼(0) vs ãƒãƒ§ã‚­(1) â†’ ã‚°ãƒ¼ã®å‹ã¡
/// 2. ãƒãƒ§ã‚­(1) vs ãƒ‘ãƒ¼(2) â†’ ãƒãƒ§ã‚­ã®å‹ã¡  
/// 3. ãƒ‘ãƒ¼(2) vs ã‚°ãƒ¼(0) â†’ ãƒ‘ãƒ¼ã®å‹ã¡
/// 4. åŒã˜æ‰‹ â†’ å¼•ãåˆ†ã‘
/// 
/// æˆ»ã‚Šå€¤ï¼š
/// - 1: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹ã¡
/// - -1: ç›¸æ‰‹ã®å‹ã¡
/// - 0: å¼•ãåˆ†ã‘
int _determineWinner(int playerHand, int opponentHand) {
  // ... å®Ÿè£…
}
```

## ğŸš« é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³

### éåº¦ãªæŠ½è±¡åŒ–
```dart
// âŒ BAD: å¿…è¦ä»¥ä¸Šã«æŠ½è±¡åŒ–
class GameStateManager {
  static GameStateManager? _instance;
  static GameStateManager get instance => _instance ??= GameStateManager._();
  
  // ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¤‡é›‘åŒ–
}

// âœ… GOOD: ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„
class GameState extends ChangeNotifier {
  // å¿…è¦ãªçŠ¶æ…‹ã®ã¿ç®¡ç†
}
```

### ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ãƒ»æ–‡å­—åˆ—
```dart
// âŒ BAD: ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼
Container(width: 100, height: 100)
Text('ãƒ­ã‚°ã‚¤ãƒ³', style: TextStyle(fontSize: 16))

// âœ… GOOD: å®šæ•°ã§ç®¡ç†
class AppConstants {
  static const double profileImageSize = 100.0;
  static const double buttonHeight = 100.0;
  static const double defaultFontSize = 16.0;
}
```

## ğŸ’¡ AIã¸ã®æŒ‡ç¤ºä¾‹

```
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã®Flutterã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦ã„ã¾ã™ï¼š

1. ç”»é¢å˜ä½ã®è²¬ä»»åˆ†é›¢ï¼ˆpages/é…ä¸‹ã«é…ç½®ï¼‰
2. å†åˆ©ç”¨å¯èƒ½ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯widgets/é…ä¸‹ã«é…ç½®
3. æ—¥æœ¬èªã§ã®æ„å›³èª¬æ˜ã‚³ãƒ¡ãƒ³ãƒˆå¿…é ˆ
4. å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆ1ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ1è²¬ä»»ï¼‰
5. å¿…è¦æœ€å°é™ã®çŠ¶æ…‹ç®¡ç†
6. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
7. é©åˆ‡ãªéåŒæœŸå‡¦ç†ï¼ˆWebSocketã€APIé€šä¿¡ï¼‰
8. åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯ã€æ—¢å­˜ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨å‘½åè¦å‰‡ã«å¾“ã„ã€
é©åˆ‡ãªå ´æ‰€ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚éåŒæœŸå‡¦ç†ãŒå¿…è¦ãªå ´åˆã¯ã€
é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
```

## ğŸš¨ æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®è¡çªå›é¿ï¼ˆæœ€é‡è¦ï¼‰

### å‘½åè¡çªã®å›é¿ãƒ«ãƒ¼ãƒ«

#### **1. æ±ç”¨åã®ä½¿ç”¨åˆ¶é™**
```dart
// âŒ BAD: æ±ç”¨çš„ã™ãã‚‹åå‰ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨è¡çªã—ã‚„ã™ã„ï¼‰
class Button extends StatelessWidget
class Card extends StatelessWidget
class Input extends StatelessWidget
class List extends StatelessWidget

// âœ… GOOD: å…·ä½“çš„ã§æ©Ÿèƒ½ã‚’è¡¨ã™åå‰
class PrimaryButton extends StatelessWidget
class UserProfileCard extends StatelessWidget
class EmailInputField extends StatelessWidget
class BattleHistoryList extends StatelessWidget
```

#### **2. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯**
```dart
// AIã¸ã®æŒ‡ç¤ºä¾‹ï¼š
// ã€Œæ–°ã—ã„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚„å¤‰æ•°åã‚’ç”Ÿæˆã™ã‚‹éš›ã¯ã€æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§
// åŒåã®ã‚‚ã®ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ã€ã‚‚ã—è¡çªã™ã‚‹å ´åˆã¯ã€
// ã‚ˆã‚Šå…·ä½“çš„ãªåå‰ã‚’ææ¡ˆã—ã¦ãã ã•ã„ã€

// ä¾‹ï¼šUserListãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆ
// âŒ è¡çª: UserList
// âœ… å›é¿: UserDetailList, AdminUserList, BattleUserList
```

#### **3. ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ã®å„ªå…ˆé †ä½**
```dart
// 1. ç”»é¢å°‚ç”¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ: pages/{ç”»é¢å}/widgets/
// 2. æ©Ÿèƒ½å°‚ç”¨ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ: widgets/{æ©Ÿèƒ½å}/
// 3. å…±é€šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ: widgets/common/ï¼ˆæœ€å¾Œã®æ‰‹æ®µï¼‰

// ä¾‹ï¼š
// pages/battle/widgets/battle_result_card.dart
// widgets/auth/login_form.dart
// widgets/common/custom_button.dartï¼ˆæ—¢å­˜ã®Buttonã¨è¡çªã™ã‚‹å ´åˆã®ã¿ï¼‰
```

### ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

#### **1. æ–°è¦ä½œæˆã®åŸå‰‡**
```dart
// âœ… GOOD: æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¶™æ‰¿ãƒ»ãƒ©ãƒƒãƒ—
class EnhancedUserProfileCard extends UserProfileCard {
  // æ—¢å­˜ã®UserProfileCardã‚’æ‹¡å¼µ
}

class BattleUserProfileCard extends StatelessWidget {
  // æ—¢å­˜ã®UserProfileCardã‚’ãƒ©ãƒƒãƒ—
  @override
  Widget build(BuildContext context) {
    return UserProfileCard(
      user: widget.user,
      showBattleStats: true, // ãƒãƒˆãƒ«å°‚ç”¨ã®è¿½åŠ æ©Ÿèƒ½
    );
  }
}

// âŒ BAD: æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥ä¿®æ­£
// æ—¢å­˜ã®user_profile_card.dartã‚’ç›´æ¥ç·¨é›†ã—ãªã„
```

#### **2. ãƒ•ã‚¡ã‚¤ãƒ«å‘½åã®ä¸€æ„æ€§ç¢ºä¿**
```dart
// ãƒ•ã‚¡ã‚¤ãƒ«åã®ä¾‹ï¼ˆæ©Ÿèƒ½ã‚’æ˜ç¢ºåŒ–ï¼‰
user_profile_card.dart           // åŸºæœ¬ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰
battle_user_profile_card.dart    // ãƒãƒˆãƒ«ç”¨ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰
admin_user_profile_card.dart     // ç®¡ç†è€…ç”¨ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰
compact_user_profile_card.dart   // ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆç‰ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰

// ã‚¯ãƒ©ã‚¹åã‚‚ä¸€æ„æ€§ã‚’ç¢ºä¿
class UserProfileCard extends StatelessWidget
class BattleUserProfileCard extends StatelessWidget
class AdminUserProfileCard extends StatelessWidget
class CompactUserProfileCard extends StatelessWidget
```

#### **3. æ—¢å­˜ã‚³ãƒ¼ãƒ‰å‚ç…§ã®é‡è¦æ€§**
```dart
// AIã¸ã®æŒ‡ç¤ºä¾‹ï¼š
// ã€Œæ–°ã—ã„æ©Ÿèƒ½ã‚’ä¾é ¼ã™ã‚‹éš›ã¯ã€é–¢é€£ã™ã‚‹æ—¢å­˜ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚„
// ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‹ã‹ã€
// å‚ç…§ã™ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ã¦ãã ã•ã„ã€

// æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ä¾‹ï¼š
class UserProfileCard extends StatelessWidget {
  final User user;
  final bool showStats;
  final VoidCallback? onTap;
  
  const UserProfileCard({
    super.key,
    required this.user,
    this.showStats = true,
    this.onTap,
  });
  
  // ... å®Ÿè£…
}

// æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯ã€ã“ã®æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§ã—ã¦
// è¡çªã—ãªã„åå‰ã¨æ§‹é€ ã‚’ææ¡ˆã™ã‚‹
```

### è¡çªå›é¿ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### **1. æ–°è¦ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆä½œæˆæ™‚**
- [ ] æ—¢å­˜ã®`lib/`é…ä¸‹ã§åŒåãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
- [ ] æ—¢å­˜ã®ã‚¯ãƒ©ã‚¹åã¨ã®é‡è¤‡ã‚’ãƒã‚§ãƒƒã‚¯
- [ ] ã‚ˆã‚Šå…·ä½“çš„ã§æ©Ÿèƒ½ã‚’è¡¨ã™åå‰ã‚’æ¤œè¨
- [ ] é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®

#### **2. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ä¿®æ­£æ™‚**
- [ ] ä¿®æ­£å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
- [ ] å¤‰æ›´å†…å®¹ã‚’æ˜ç¢ºã«æ–‡æ›¸åŒ–
- [ ] å½±éŸ¿ç¯„å›²ã‚’æœ€å°é™ã«æŠ‘åˆ¶
- [ ] ãƒ†ã‚¹ãƒˆã§å‹•ä½œç¢ºèªã‚’å®Ÿæ–½

#### **3. ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†**
- [ ] æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã¯é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
- [ ] æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥ç·¨é›†ã¯é¿ã‘ã‚‹
- [ ] ç¶™æ‰¿ãƒ»ãƒ©ãƒƒãƒ—ã«ã‚ˆã‚‹æ‹¡å¼µã‚’å„ªå…ˆ
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã‚¯ãƒ©ã‚¹åã®ä¸€æ„æ€§ã‚’ç¢ºä¿

### å®Ÿç”¨çš„ãªå‘½åãƒ‘ã‚¿ãƒ¼ãƒ³

#### **1. æ©Ÿèƒ½åˆ¥ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**
```dart
// èªè¨¼é–¢é€£
class AuthLoginButton extends StatelessWidget
class AuthRegisterForm extends StatelessWidget
class AuthForgotPasswordLink extends StatelessWidget

// ãƒãƒˆãƒ«é–¢é€£
class BattleStartButton extends StatelessWidget
class BattleResultDisplay extends StatelessWidget
class BattleHandSelector extends StatelessWidget

// ãƒ­ãƒ“ãƒ¼é–¢é€£
class LobbyUserList extends StatelessWidget
class LobbyChatWindow extends StatelessWidget
class LobbySettingsPanel extends StatelessWidget
```

#### **2. ã‚µã‚¤ã‚ºãƒ»ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³åˆ¥ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹**
```dart
// ã‚µã‚¤ã‚ºåˆ¥
class UserProfileCardLarge extends StatelessWidget
class UserProfileCardMedium extends StatelessWidget
class UserProfileCardSmall extends StatelessWidget

// ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³åˆ¥
class UserProfileCardCompact extends StatelessWidget
class UserProfileCardDetailed extends StatelessWidget
class UserProfileCardMinimal extends StatelessWidget
```

#### **3. çŠ¶æ…‹ãƒ»ãƒ¢ãƒ¼ãƒ‰åˆ¥ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹**
```dart
// çŠ¶æ…‹åˆ¥
class UserProfileCardLoading extends StatelessWidget
class UserProfileCardError extends StatelessWidget
class UserProfileCardEmpty extends StatelessWidget

// ãƒ¢ãƒ¼ãƒ‰åˆ¥
class UserProfileCardEditMode extends StatelessWidget
class UserProfileCardViewMode extends StatelessWidget
class UserProfileCardAdminMode extends StatelessWidget
```

### AIã¸ã®å…·ä½“çš„æŒ‡ç¤ºä¾‹

```
æ–°ã—ã„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®ç‚¹ã‚’å¿…ãšç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. æ—¢å­˜ã®lib/é…ä¸‹ã§åŒåãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„ã‹æ¤œç´¢
2. æ—¢å­˜ã®ã‚¯ãƒ©ã‚¹åã¨é‡è¤‡ã—ãªã„ã‹ãƒã‚§ãƒƒã‚¯
3. è¡çªã™ã‚‹å ´åˆã¯ã€ã‚ˆã‚Šå…·ä½“çš„ã§æ©Ÿèƒ½ã‚’è¡¨ã™åå‰ã‚’ææ¡ˆ
4. é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ï¼ˆpages/{ç”»é¢å}/widgets/ã‚’å„ªå…ˆï¼‰
5. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®æ•´åˆæ€§ã‚’ä¿ã¤

ä¾‹ï¼š
- Button â†’ PrimaryButton, SubmitButton, CancelButton
- Card â†’ UserProfileCard, BattleResultCard, SettingsCard
- List â†’ UserList, BattleHistoryList, RankingList

æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥ä¿®æ­£ã™ã‚‹ã®ã§ã¯ãªãã€æ–°ã—ã„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹ã‹ã€
ç¶™æ‰¿ãƒ»ãƒ©ãƒƒãƒ—ã«ã‚ˆã‚‹æ‹¡å¼µã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚
```

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Flutter SDKï¼ˆ3.1.3ä»¥ä¸Šï¼‰
- Android Studioï¼ˆAndroidé–‹ç™ºç”¨ï¼‰
- Xcodeï¼ˆiOSé–‹ç™ºç”¨ã€Macç’°å¢ƒã®ã¿ï¼‰

### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
flutter pub get
```

### ã‚¢ãƒ—ãƒªã®å®Ÿè¡Œ

#### èµ·å‹•ä¸­ã®ãƒ‡ãƒã‚¤ã‚¹ç¢ºèª
```bash
cd .\client\game-app\
flutter devices
```

#### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒã‚¤ã‚¹ã§å®Ÿè¡Œ
flutter run

# ç‰¹å®šã®ãƒ‡ãƒã‚¤ã‚¹ã§å®Ÿè¡Œ
flutter run -d android    # Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿
flutter run -d ios        # iOSã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼ˆMacç’°å¢ƒï¼‰
flutter run -d chrome     # Webãƒ–ãƒ©ã‚¦ã‚¶
```
flutter run -d emulator-5556
### ç’°å¢ƒè¨­å®š

#### é–‹ç™ºç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šï¼‰
```bash
flutter run
```

#### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒï¼ˆå¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šï¼‰
```bash
flutter run --dart-define=ENV=production
```

## ğŸ¨ ã‚¢ã‚»ãƒƒãƒˆæ§‹æˆ

### ç”»åƒ
- `assets/images/backgrounds/` - èƒŒæ™¯ç”»åƒ
- `assets/images/goddess/` - å¥³ç¥ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ
- `assets/images/button/` - ãƒœã‚¿ãƒ³ç”»åƒ
- `assets/images/rank/` - ãƒ©ãƒ³ã‚¯ã‚¢ã‚¤ã‚³ãƒ³
- `assets/images/default_profiles/` - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ

### éŸ³å£°
- `assets/sounds/BGM/` - èƒŒæ™¯éŸ³æ¥½
- `assets/sounds/Button/` - ãƒœã‚¿ãƒ³åŠ¹æœéŸ³

### ãƒ•ã‚©ãƒ³ãƒˆ
- `M PLUS 1p` - ãƒ¡ã‚¤ãƒ³ãƒ•ã‚©ãƒ³ãƒˆ
- `Kosugi Maru` - è£…é£¾ç”¨ãƒ•ã‚©ãƒ³ãƒˆ
- `Cinzel` - ã‚¿ã‚¤ãƒˆãƒ«ç”¨ãƒ•ã‚©ãƒ³ãƒˆ

### ãƒ‡ãƒ¼ã‚¿
- `assets/json/` - ã‚²ãƒ¼ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿
- `assets/policy/` - åˆ©ç”¨è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼

## ğŸ”§ ãƒ“ãƒ«ãƒ‰

### Android APK
```bash
flutter build apk --release
```

### iOS IPA
```bash
flutter build ios --release
```

### Web
```bash
flutter build web --release
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
flutter test

# ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
flutter test test/widget_test.dart
```

## ğŸ“± é–‹ç™ºæ™‚ã®ãƒ’ãƒ³ãƒˆ

### ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰
- **r**: ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆçŠ¶æ…‹ã‚’ä¿æŒã—ãŸã¾ã¾UIæ›´æ–°ï¼‰
- **R**: ãƒ›ãƒƒãƒˆãƒªã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆã‚¢ãƒ—ãƒªã‚’å®Œå…¨å†èµ·å‹•ï¼‰
- **q**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†

### ãƒ‡ãƒãƒƒã‚°
```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
flutter run --debug

# ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
flutter run --profile
```

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [ã‚µãƒ¼ãƒãƒ¼APIä»•æ§˜](../../docs/api/)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](../../docs/database/)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“README](../../README.md)
